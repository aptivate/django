language: python

python:
# - "2.6"
 - "2.7"
# - "3.2"
# - "3.3"

matrix:
  exclude:
    # Disable MySQL tests for 3.2 and 3.3
    - python: "3.2"
      env: DB=mysql
    - python: "3.3"
      env: DB=mysql

env:
  - DB=sqlite GIS=nogis
  - DB=mysql GIS=nogis
  - DB=mysql GIS=gis
  - DB=postgres GIS=nogis
  - DB=postgres GIS=gis

before_script:
  - export PIP_USE_MIRRORS=true
  - export PIP_INDEX_URL=https://restricted.crate.io/
  - export DISPLAY=:99.0
  - export CONFIG_SERVER=http://apolloner.eu/~apollo13/django/
  - wget -O before_script.sh $CONFIG_SERVER/before_script.sh && sh before_script.sh

script:
  - python -Wall tests/runtests.py --selenium --verbosity 2 --settings=django_settings

